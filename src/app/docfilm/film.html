<md-content layout="column" >
    <md-progress-circular md-diameter="70" ng-disabled="isData && !isUpload" class="md-warn"></md-progress-circular>
</md-content>
<md-content layout-padding layout-wrap ng-if="isData">
  <div layout="column" layout-padding layout-margin layout-fill layout-align="center center" ng-hide="isData && !isUpload" class="loaddata">
    <md-progress-circular md-diameter="70" ng-disabled="isData && !isUpload" class="md-warn"></md-progress-circular>
  </div>
  <form name="form_film" id="form_film">
    <h1><i>{{film.formdata.title}}</i></h1>
    <div layout="row">
      <md-input-container layout-fill>
        <label translate>{{'FILM.TITLE'}}</label>
        <input type="text" ng-model="film.formdata.title" ng-change="film.modified.title = true" required>
      </md-input-container>
    </div>
    <div layout="column">
      <div>
        <md-input-container class="layout-fill">
          <label translate>{{'FILM.SYNOPSI'}}</label>
          <textarea ng-change="film.modified.synopsi = true" name="textarea" layout="fill" rows="3" ng-model="film.formdata.synopsi" ng-minlength="300" ng-maxlength="10000" aria-label="synopsi"></textarea>
          <small>{{(form_film.textarea.$viewValue.length) + ' Char'}} (min. 300)</small>
        </md-input-container>
      </div>
      <div layout-gt-sm="row" layout="column">
        <md-input-container>
          <label translate>{{'FILM.DIRPHOTO'}}</label>
          <input type="text" ng-model="film.formdata.director" ng-change="film.modified.director = true" required>
        </md-input-container>
        <md-input-container>
          <label translate>{{'FILM.PROPHOTO'}}</label>
          <input type="text" ng-model="film.formdata.producer" ng-change="film.modified.producer = true" required>
        </md-input-container>
      </div>
    </div>
    <div layout-gt-sm="row" layout="column">
      <md-input-container ng-if="!film.formdata.screenshot1">
        <small translate>{{'FILM.SCREENSHOT'}} 1</small>
        <input type="file" ng-model="film.formdata.screenshot1" accept="image/jpeg,image/gif,image/png" base-sixty-four-input required ng-change="film.modified.screenshot1 = true" aria-label="Screenshot 1">
      </md-input-container>
      <md-card ng-if="film.formdata.screenshot1" class="md-image-no-fill card-film-add">
        <md-card-title>{{'FILM.SCREENSHOT' | translate}} 1</md-card-title>
        <md-card-content layout-align="space-around">
          <img ng-src="data:{{film.formdata.screenshot1Type}};base64,{{film.formdata.screenshot1}}" alt="screenshot" />
        </md-card-content>
        <md-card-footer layout="row" layout-align="end end"><ng-md-icon icon="delete" size="20" style="fill: red" ng-click="del('screenshot1')"></ng-md-icon></md-card-footer>
      </md-card>
      <md-input-container ng-if="!film.formdata.screenshot2">
        <small translate>{{'FILM.SCREENSHOT'}} 2</small>
        <input type="file" ng-model="film.formdata.screenshot2" accept="image/jpeg,image/gif,image/png" base-sixty-four-input required ng-change="film.modified.screenshot2 = true" aria-label="Screenshot 2">
      </md-input-container>
      <md-card ng-if="film.formdata.screenshot2" class="md-image-no-fill card-film-add">
        <md-card-title>{{'FILM.SCREENSHOT' | translate}} 2</md-card-title>
        <md-card-content layout-align="space-around">
          <img ng-src="data:{{film.formdata.screenshot2Type}};base64,{{film.formdata.screenshot2}}" alt="screenshot" />
        </md-card-content>
        <md-card-footer layout="row" layout-align="end end"><ng-md-icon icon="delete" size="20" style="fill: red" ng-click="del('screenshot2')"></ng-md-icon></md-card-footer>
      </md-card>
      <md-input-container ng-if="!film.formdata.screenshot3">
        <small translate>{{'FILM.SCREENSHOT'}} 3</small>
        <input type="file" ng-model="film.formdata.screenshot3" accept="image/jpeg,image/gif,image/png" base-sixty-four-input required ng-change="film.modified.screenshot3 = true" aria-label="Screenshot 3">
      </md-input-container>
      <md-card ng-if="film.formdata.screenshot3" class="md-image-no-fill card-film-add">
        <md-card-title>{{'FILM.SCREENSHOT' | translate}} 3</md-card-title>
        <md-card-content layout-align="space-around">
          <img ng-src="data:{{film.formdata.screenshot3Type}};base64,{{film.formdata.screenshot3}}" alt="screenshot" />
        </md-card-content>
        <md-card-footer layout="row" layout-align="end end"><ng-md-icon icon="delete" size="20" style="fill: red" ng-click="del('screenshot3')"></ng-md-icon></md-cardfooter>
      </md-card>
    </div>
    <div layout="row" layout-align="center" layout-fill ng-if="!film.formdata.film">
      <h2 translate>{{'UPLOAD_VIDEO'}}</h2>
      <md-button class="md-fab md-primary" aria-label="upload film"  accept="video/*" ngf-select="upload($file)"><ng-md-icon icon="movie"></md-button>
    </div>
    <div layout="row" layout-align="center" layout-fill ng-if="film.formdata.film">
      <video ng-src="{{urlfilm}}" controls class="videofilm"></video>
    </div>
    <md-input-container>
      <md-button class="md-raised md-warn" aria-label="submit" ng-click="modifyFilm()" aria-label="submit">{{'SAVE' | translate}}</md-button>
    </md-input-container>
  </form>
</md-content>
