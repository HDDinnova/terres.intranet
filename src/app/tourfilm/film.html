<md-content layout="column" >
    <md-progress-circular md-diameter="70" ng-disabled="isData && !isUpload" class="md-warn"></md-progress-circular>
</md-content>
<md-content layout-padding layout-wrap ng-if="isData">
  <div layout="column" layout-padding layout-margin layout-fill layout-align="center center" ng-hide="isData && !isUpload" class="loaddata">
    <md-progress-circular md-diameter="70" ng-disabled="isData && !isUpload" class="md-warn"></md-progress-circular>
  </div>
  <form name="form_film" id="form_film">
    <h1><i>{{film.formdata.title}}</i></h1>
    <div layout="row">
      <md-input-container layout-fill>
        <label translate>{{'FILM.TITLE'}}</label>
        <input type="text" ng-model="film.formdata.title" ng-change="film.modified.title = true" required>
      </md-input-container>
    </div>
    <div layout="column">
      <div>
        <md-input-container class="layout-fill">
          <label translate>{{'FILM.SYNOPSI'}}</label>
          <textarea ng-change="film.modified.synopsi = true" name="textarea" layout="fill" rows="3" ng-model="film.formdata.synopsi" ng-minlength="300" ng-maxlength="10000" aria-label="synopsi"></textarea>
          <small>{{(form_film.textarea.$viewValue.length) + ' Char'}} (min. 300)</small>
        </md-input-container>
      </div>
      <div layout-gt-sm="row" layout="column">
        <md-input-container>
          <label translate>{{'FILM.DIRPHOTO'}}</label>
          <input type="text" ng-model="film.formdata.director" ng-change="film.modified.director = true" required>
        </md-input-container>
        <md-input-container>
          <label translate>{{'FILM.PROPHOTO'}}</label>
          <input type="text" ng-model="film.formdata.producer" ng-change="film.modified.producer = true" required>
        </md-input-container>
      </div>
    </div>
    <div layout-gt-sm="row" layout="column">
      <md-input-container ng-if="!film.formdata.screenshot1">
        <small translate>{{'FILM.SCREENSHOT'}} 1</small>
        <input type="file" ng-model="film.formdata.screenshot1" accept="image/jpeg,image/gif,image/png" base-sixty-four-input required ng-change="film.modified.screenshot1 = true" aria-label="Screenshot 1">
      </md-input-container>
      <md-card ng-if="film.formdata.screenshot1" class="md-image-no-fill card-film-add">
        <md-card-title>{{'FILM.SCREENSHOT' | translate}} 1</md-card-title>
        <md-card-content layout-align="space-around">
          <img ng-src="data:{{film.formdata.screenshot1Type}};base64,{{film.formdata.screenshot1}}" alt="screenshot" />
        </md-card-content>
        <md-card-footer layout="row" layout-align="end end"><ng-md-icon icon="delete" size="20" style="fill: red" ng-click="del('screenshot1')"></ng-md-icon></md-card-footer>
      </md-card>
      <md-input-container ng-if="!film.formdata.screenshot2">
        <small translate>{{'FILM.SCREENSHOT'}} 2</small>
        <input type="file" ng-model="film.formdata.screenshot2" accept="image/jpeg,image/gif,image/png" base-sixty-four-input required ng-change="film.modified.screenshot2 = true" aria-label="Screenshot 2">
      </md-input-container>
      <md-card ng-if="film.formdata.screenshot2" class="md-image-no-fill card-film-add">
        <md-card-title>{{'FILM.SCREENSHOT' | translate}} 2</md-card-title>
        <md-card-content layout-align="space-around">
          <img ng-src="data:{{film.formdata.screenshot2Type}};base64,{{film.formdata.screenshot2}}" alt="screenshot" />
        </md-card-content>
        <md-card-footer layout="row" layout-align="end end"><ng-md-icon icon="delete" size="20" style="fill: red" ng-click="del('screenshot2')"></ng-md-icon></md-card-footer>
      </md-card>
      <md-input-container ng-if="!film.formdata.screenshot3">
        <small translate>{{'FILM.SCREENSHOT'}} 3</small>
        <input type="file" ng-model="film.formdata.screenshot3" accept="image/jpeg,image/gif,image/png" base-sixty-four-input required ng-change="film.modified.screenshot3 = true" aria-label="Screenshot 3">
      </md-input-container>
      <md-card ng-if="film.formdata.screenshot3" class="md-image-no-fill card-film-add">
        <md-card-title>{{'FILM.SCREENSHOT' | translate}} 3</md-card-title>
        <md-card-content layout-align="space-around">
          <img ng-src="data:{{film.formdata.screenshot3Type}};base64,{{film.formdata.screenshot3}}" alt="screenshot" />
        </md-card-content>
        <md-card-footer layout="row" layout-align="end end"><ng-md-icon icon="delete" size="20" style="fill: red" ng-click="del('screenshot3')"></ng-md-icon></md-cardfooter>
      </md-card>
    </div>
    <div layout-gt-sm="row" layout="column">
      <fieldset>
        <legend>{{'FILM.CATEGORIES' | translate}} <small>{{'FILM.MAX3' | translate}}</small></legend>
        <md-checkbox md-no-ink ng-true-value="'1'" ng-false-value="'0'"  ng-model="film.formdata.travel" aria-label="travel" ng-change="(film.modified.travel = true) && (checkChanged(film.formdata.travel))" ng-disabled="checked === max && film.formdata.travel === '0'">
          {{'FILM.TRAVEL' | translate}}
        </md-checkbox>
        <md-checkbox md-no-ink ng-true-value="'1'" ng-false-value="'0'"  ng-model="film.formdata.cultural" aria-label="cultural" ng-change="(film.modified.cultural = true) && (checkChanged(film.formdata.cultural))" ng-disabled="checked === max && film.formdata.cultural === '0'">
          {{'FILM.CULTURAL' | translate}}
        </md-checkbox>
        <md-checkbox md-no-ink ng-true-value="'1'" ng-false-value="'0'"  ng-model="film.formdata.sports" aria-label="sports" ng-change="(film.modified.sports = true) && (checkChanged(film.formdata.sports))" ng-disabled="checked === max && film.formdata.sports === '0'">
          {{'FILM.SPORTSTOUR' | translate}}
        </md-checkbox>
        <md-checkbox md-no-ink ng-true-value="'1'" ng-false-value="'0'"  ng-model="film.formdata.expedition" aria-label="expedition" ng-change="(film.modified.expedition = true) && (checkChanged(film.formdata.expedition))" ng-disabled="checked === max && film.formdata.expedition === '0'">
          {{'FILM.EXPEDITION' | translate}}
        </md-checkbox>
        <md-checkbox md-no-ink ng-true-value="'1'" ng-false-value="'0'"  ng-model="film.formdata.hotels" aria-label="hotels" ng-change="(film.modified.hotels = true) && (checkChanged(film.formdata.hotels))" ng-disabled="checked === max && film.formdata.hotels === '0'">
          {{'FILM.HOTELS' | translate}}
        </md-checkbox>
        <md-checkbox md-no-ink ng-true-value="'1'" ng-false-value="'0'"  ng-model="film.formdata.events" aria-label="events" ng-change="(film.modified.events = true) && (checkChanged(film.formdata.events))" ng-disabled="checked === max && film.formdata.events === '0'">
          {{'FILM.EVENTS' | translate}}
        </md-checkbox>
        <md-checkbox md-no-ink ng-true-value="'1'" ng-false-value="'0'"  ng-model="film.formdata.health" aria-label="health" ng-change="(film.modified.health = true) && (checkChanged(film.formdata.health))" ng-disabled="checked === max && film.formdata.health === '0'">
          {{'FILM.HEALTHTOUR' | translate}}
        </md-checkbox>
        <md-checkbox md-no-ink ng-true-value="'1'" ng-false-value="'0'"  ng-model="film.formdata.rural" aria-label="rural" ng-change="(film.modified.rural = true) && (checkChanged(film.formdata.rural))" ng-disabled="checked === max && film.formdata.rural === '0'">
          {{'FILM.RURAL' | translate}}
        </md-checkbox>
        <md-checkbox md-no-ink ng-true-value="'1'" ng-false-value="'0'"  ng-model="film.formdata.naturaltour" aria-label="natural" ng-change="(film.modified.naturaltour = true) && (checkChanged(film.formdata.naturaltour))" ng-disabled="checked === max && film.formdata.naturaltour === '0'">
          {{'FILM.NATURAL' | translate}}
        </md-checkbox>
        <md-checkbox md-no-ink ng-true-value="'1'" ng-false-value="'0'"  ng-model="film.formdata.enotourism" aria-label="Enotourism" ng-change="(film.modified.enotourism = true) && (checkChanged(film.formdata.enotourism))" ng-disabled="checked === max && film.formdata.enotourism === '0'">
          {{'FILM.ENOTOURISM' | translate}}
        </md-checkbox>
        <md-checkbox md-no-ink ng-true-value="'1'" ng-false-value="'0'"  ng-model="film.formdata.destinations" aria-label="Destinations" ng-change="(film.modified.destinations = true) && (checkChanged(film.formdata.destinations))" ng-disabled="checked === max && film.formdata.destinations === '0'">
          {{'FILM.DESTINATIONS' | translate}}
        </md-checkbox>
        <md-checkbox md-no-ink ng-true-value="'1'" ng-false-value="'0'"  ng-model="film.formdata.animation" aria-label="Animation" ng-change="(film.modified.animation = true) && (checkChanged(film.formdata.animation))" ng-disabled="checked === max && film.formdata.animation === '0'">
          {{'FILM.ANIMATION' | translate}}
        </md-checkbox>
      </fieldset>
    </div>
    <div layout="row" layout-align="center" layout-fill ng-if="!film.formdata.film">
      <h2 translate>{{'UPLOAD_VIDEO'}}</h2>
      <md-button class="md-fab md-primary" aria-label="upload film"  accept="video/*" ngf-select="upload($file)"><ng-md-icon icon="movie"></md-button>
    </div>
    <div layout="row" layout-align="center" layout-fill ng-if="film.formdata.film">
      <video ng-src="{{urlfilm}}" controls class="videofilm"></video>
    </div>
    <md-input-container>
      <md-button class="md-raised md-warn" aria-label="submit" ng-click="modifyFilm()" aria-label="submit">{{'SAVE' | translate}}</md-button>
    </md-input-container>
  </form>
</md-content>
